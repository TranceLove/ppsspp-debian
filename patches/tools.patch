Index: ppsspp-git/native/tools/atlastool.cpp
===================================================================
--- ppsspp-git.orig/native/tools/atlastool.cpp	2015-06-23 23:32:29.177949655 -0300
+++ ppsspp-git/native/tools/atlastool.cpp	2015-06-23 23:32:29.169949615 -0300
@@ -11,14 +11,14 @@
 // line height
 // dist-per-pixel
 
-#include <libpng17/png.h>
+#include <libpng/png.h>
 #include <ft2build.h>
 #include FT_FREETYPE_H
 #ifdef _WIN32
 // Hackery for our broken path structure
 #include <ftbitmap.h>
 #else
-#include <freetype/ftbitmap.h>
+#include <freetype2/ftbitmap.h>
 #endif
 #include <set>
 #include <map>
Index: ppsspp-git/native/tools/CMakeLists.txt
===================================================================
--- ppsspp-git.orig/native/tools/CMakeLists.txt	2015-06-23 23:32:29.177949655 -0300
+++ ppsspp-git/native/tools/CMakeLists.txt	2015-06-23 23:33:35.082276457 -0300
@@ -27,19 +27,10 @@
 include_directories(../ext)
 include_directories(../math/lin)
 include_directories(../image)
-include_directories(../ext/libzip)
 include_directories(../ext/rg_etc1)
-include_directories(../ext/glew)
-include_directories(/usr/local/include)
-
-link_directories(/usr/X11R6/lib)
-link_directories(/opt/local/lib)
 
 # Horrible horrible hack
 include_directories(/usr/include/freetype2)
-include_directories(/usr/local/include/freetype2)
-include_directories(/opt/local/include/freetype2)
-include_directories(/opt/local/include)
 
 add_subdirectory(../base base)
 add_subdirectory(../gfx gfx)
@@ -47,14 +38,13 @@
 add_subdirectory(../image image)
 add_subdirectory(../math math)
 add_subdirectory(../util util)
-add_subdirectory(../ext/libzip libzip)
 add_subdirectory(../ext/rg_etc1 rg_etc1)
 add_subdirectory(../ext/stb_image stb_image)
-add_subdirectory(../ext/libpng17 png17)
+add_subdirectory(../ext/libpng png)
 
 
 add_executable(atlastool atlastool.cpp)
-target_link_libraries(atlastool png17 freetype util image z stb_image rg_etc1 file zip base)
+target_link_libraries(atlastool freetype util image png z stb_image rg_etc1 file base)
 
 add_executable(zimtool zimtool.cpp)
-target_link_libraries(zimtool png17 freetype image z stb_image rg_etc1 file zip base)
+target_link_libraries(zimtool freetype image png z stb_image rg_etc1 file base)
Index: ppsspp-git/atlasscript.txt
===================================================================
--- ppsspp-git.orig/atlasscript.txt	2015-06-23 23:32:29.177949655 -0300
+++ ppsspp-git/atlasscript.txt	2015-06-23 23:32:29.169949615 -0300
@@ -1,6 +1,6 @@
 2048
-font UBUNTU24 assets/RobotoCondensed-Regular.ttf UWER 34 -2
-font UBUNTU24 C:/Windows/Fonts/ARIALUNI.ttf UWEhkcRGHKVTe 30 0
+font UBUNTU24 /usr/share/fonts/truetype/roboto/RobotoCondensed-Regular.ttf UWER 34 -2
+font UBUNTU24 /usr/share/fonts/truetype/unifont/unifont.ttf UWEhkcRGHKVTe 30 0
 image I_SOLIDWHITE white.png copy
 image I_CROSS source_assets/image/cross.png copy
 image I_CIRCLE source_assets/image/circle.png copy
Index: ppsspp-git/atlasscript_lowmem.txt
===================================================================
--- ppsspp-git.orig/atlasscript_lowmem.txt	2015-06-23 23:32:29.177949655 -0300
+++ ppsspp-git/atlasscript_lowmem.txt	2015-06-23 23:32:29.169949615 -0300
@@ -1,5 +1,5 @@
 512
-font UBUNTU24 assets/RobotoCondensed-Regular.ttf U 34 -2
+font UBUNTU24 /usr/share/fonts/truetype/roboto/RobotoCondensed-Regular.ttf U 34 -2
 image I_SOLIDWHITE white.png copy
 image I_CROSS source_assets/image/cross.png copy
 image I_CIRCLE source_assets/image/circle.png copy
Index: ppsspp-git/build_ppgeatlas.sh
===================================================================
--- ppsspp-git.orig/build_ppgeatlas.sh	2015-06-23 23:32:29.177949655 -0300
+++ ppsspp-git/build_ppgeatlas.sh	2015-06-23 23:32:29.169949615 -0300
@@ -1 +1 @@
-./atlastool ppge_atlasscript.txt ppge && mv ppge_atlas.cpp ppge_atlas.h Core/Util && cp ppge_atlas.zim assets && mv ppge_atlas.zim android/assets
+./native/tools/build/atlastool ppge_atlasscript.txt ppge && mv ppge_atlas.cpp ppge_atlas.h Core/Util && mv ppge_atlas.zim assets
Index: ppsspp-git/ppge_atlasscript.txt
===================================================================
--- ppsspp-git.orig/ppge_atlasscript.txt	2015-06-23 23:32:29.177949655 -0300
+++ ppsspp-git/ppge_atlasscript.txt	2015-06-23 23:32:29.173949635 -0300
@@ -1,5 +1,5 @@
 2048
-font UBUNTU24 C:/Windows/Fonts/KozGoPro-Medium.otf UWkhcsGR 24
+font UBUNTU24 /usr/share/fonts/truetype/unifont/unifont.ttf UWkhcsGR 24
 image I_CROSS source_assets/image/cross.png copy
 image I_CIRCLE source_assets/image/circle.png copy
 image I_SQUARE source_assets/image/square.png copy
Index: ppsspp-git/buildatlas.sh
===================================================================
--- ppsspp-git.orig/buildatlas.sh	2015-06-23 23:32:29.177949655 -0300
+++ ppsspp-git/buildatlas.sh	2015-06-23 23:32:29.173949635 -0300
@@ -1,4 +1,4 @@
-./native/tools/build/atlastool atlasscript.txt ui 8888 && cp ui_atlas.zim assets && cp ui_atlas.zim android/assets && cp ui_atlas.zim.png ui_atlas_high.zim.png && mv ui_atlas.cpp ui_atlas_highmem.cpp && mv ui_atlas.h UI
+./native/tools/build/atlastool atlasscript.txt ui 8888 && cp ui_atlas.zim assets && cp ui_atlas.zim.png ui_atlas_high.zim.png && mv ui_atlas.cpp ui_atlas_highmem.cpp && mv ui_atlas.h UI
 ./native/tools/build/atlastool atlasscript_lowmem.txt ui 8888 && mv ui_atlas.zim assets/ui_atlas_lowmem.zim && mv ui_atlas.cpp ui_atlas_lowmem.cpp
 diff -I'^//.*' -D USING_QT_UI ui_atlas_highmem.cpp ui_atlas_lowmem.cpp > UI/ui_atlas.cpp
-rm ui_atlas_highmem.cpp ui_atlas_lowmem.cpp ui_atlas.h
+rm -f ui_atlas_highmem.cpp ui_atlas_lowmem.cpp ui_atlas.h
